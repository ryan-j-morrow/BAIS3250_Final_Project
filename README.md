# Final Project Repository â€” BAIS:3250 Data Wrangling  
**Ryan Morrow â€” Spring 2025 â€” The University of Iowa Tippie College of Business**  
*Professor: Michael Redmond*

## Overview  
This repository contains all code, outputs, and writeups associated with Ryan Morrowâ€™s final project for **BAIS:3250 â€“ Data Wrangling**, taught in the Spring 2025 semester at The University of Iowa Tippie College of Business.

## Path and File Descriptions  
All files (besides this `README.md`) are stored in the `05 Final Project` main folder and are organized as follows:

---

### ðŸ“‚ `00 Documents`  
This folder contains all writeup files required for submission.

- **`01 Project Proposal.docx`** â€” Project proposal submitted.
- **`02 Check In Presentation.pptx`** â€” Check-in assignment slides submitted.
- **`03 Final Report.docx`** â€” Final report submitted.

---

### ðŸ“‚ `01 Code Books`  
This folder stores all Jupyter notebooks containing the Python code that generated the outputs.

- **`01 Tickers.ipynb`** â€” Reads input ticker symbol files and creates the list of unique ticker symbols for analysis.
- **`02 Scraping Capitol Trades.ipynb`** â€” Scrapes individual trade data from the web in batches and saves each subset to a CSV.
- **`03 Data Integration.ipynb`** â€” Combines all raw data subsets, filters for valid tickers, matches trades (earliest buy & latest sell for each Ticker + Person pair), and removes unmatched trades.
- **`04 YFinance.ipynb`** â€” Uses YFinance API to collect stock prices on Buy/Sell dates and compiles the final dataset.
- **`05 Analysis.ipynb`** â€” Runs all analyses and generates visualizations from the final dataset.

---

### ðŸ“‚ `02 Data Files`  
This folder stores all input files used by the codebooks and all output files generated by them.

#### ðŸ“‚ `01 Tickers`  
Input/output files used by `01 Tickers.ipynb`.

- **`amex_tickers.txt`** â€” Active AMEX tickers (source in final report).
- **`nasdaq_tickers.txt`** â€” Active NASDAQ tickers (source in final report).
- **`nyse_tickers.txt`** â€” Active NYSE tickers (source in final report).
- **`final_tickers.csv`** â€” Final list of eligible ticker symbols.

#### ðŸ“‚ `02 Trade Scraping`  
Files created during the trade web scraping process.

- **`transaction_log_scraped_subset1.csv`** â†’ **`transaction_log_scraped_subset29.csv`** â€” Each CSV contains a batch of scraped trades.
- **`transaction_log_scraped.csv`** â€” Combined raw data from all 29 subsets (generated by `03 Data Integration.ipynb`).

#### ðŸ“‚ `03 Data Integration`  
Files created during the data integration process.

- **`transactions_matched.csv`** â€” Cleaned dataset containing trades with eligible tickers and valid Buy/Sell pairs.

#### ðŸ“‚ `04 YFinance`  
Files generated by `04 YFinance.ipynb`.

- **`trade_comparison_yfinance.csv`** â€” Final cleaned dataset ready for analysis.

#### ðŸ“‚ `05 Analysis`  
Files and graphs generated from analyses run in `05 Analysis.ipynb`.

- **`hypothesis_test_results.csv`** â€” Hypotheses and p-values from statistical tests.
- **`ML_Classifier_Results.csv`** â€” Performance metrics for models used in classifier regression analysis.

##### ðŸ“‚ `01 Graphs`  
Graphs generated by analyses in `05 Analysis.ipynb`.

- **`Distribution_Of_Overperformance.png`** â€” Distribution of trade % overperformance vs. market.
- **`Distribution_Of_Returns.png`** â€” Distribution of trade % returns.
- **`Trade_Return_by_Party.png`** â€” Distribution of trade returns segmented by political party.
- **`Volume_Forecasting_Buy_Sides.png`** â€” Best forecasting model for predicting monthly stock purchase volume by congress members.

---

## Data Dictionary
This dataset contains information on stock trades made by members of the U.S. Congress, along with comparative market performance data. Below is a detailed description of each field included in the dataset:

| Field | Datatype | Description |
|-------|----------|-------------|
| **Name** | String | Congress memberâ€™s name |
| **Ticker** | String | The stock market ticker of the stock that the congress member traded |
| **Party** | String | The political party the congress member is affiliated with |
| **Chamber** | String | The chamber of Congress where the congress member serves (House or Senate) |
| **State** | String | The state that the congress member represents |
| **Buy Date** | String | The earliest date within the sample that the congress member bought shares of the traded stock |
| **Sell Date** | String | The latest date within the sample that the congress member sold shares of the traded stock |
| **Buy Price** | Float | The opening price of the traded stock on the Buy Date (or closest valid date) |
| **Sell Price** | Float | The closing price of the traded stock on the Sell Date (or closest valid date) |
| **Trade Return %** | Float | The traded stockâ€™s return as a % using:<br> `Trade Return % = 100 * ((Sell Price â€“ Buy Price) / Buy Price)` |
| **Market Buy Price** | Float | The opening price of the market baseline stock on the Buy Date (or closest valid date) |
| **Market Sell Price** | Float | The closing price of the market baseline stock on the Sell Date (or closest valid date) |
| **Market Return %** | Float | The market baseline stockâ€™s return as a % using:<br> `Market Return % = 100 * ((Market Sell Price â€“ Market Buy Price) / Market Buy Price)` |
| **Overperformance %** | Float | How much better the traded stock performed than the market baseline stock over the same period:<br> `Overperformance % = Trade Return % - Market Return %` |
| **Overperform** | Binary | Indicates whether the trade overperformed the market:<br> `Overperform = Trade Return % > Market Return %` |
